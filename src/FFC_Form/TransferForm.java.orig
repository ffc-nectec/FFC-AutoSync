/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * TransferForm.java
 *
 * Created on 28 เม.ย. 2554, 16:35:26
 */
package FFC_Form;


import AdbManager.AdbCommand;
import AdbManager.RunAdb;
import ConnectDatabase.ConnectSQLite;
import ConvertSQLiteToSQL.ConvertSQLiteToSQL;
import DeviceManager.DriveBehavior;
import Management.VillageBookInformationManager;
import Transfer.AndroidToJhcis;
import Transfer.ExportToTextfile;
import Transfer.ImportFileToAndroid;
import java.io.IOException;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.ToolTipManager;
import auto_sync_v2.Main;
import java.sql.*;
import java.util.ArrayList;
import javax.swing.DefaultListModel;
import Transfer.JhcisToAndroid;
import java.awt.Frame;
import java.awt.Point;
import java.awt.event.MouseEvent;
import java.io.File;
import javax.swing.JFileChooser;
import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;



/**
 *
 * @author PeeT
 */
public class TransferForm extends javax.swing.JFrame{
    
    public Thread jhcisToAndroidThread;
    public Thread andoirdToJhcisThread;
    ArrayList<String> villageSelectList = new ArrayList<String>();
    ArrayList<String> dataSelectLists = new ArrayList<String>();
    
    DefaultListModel villageModelUpToAndroid = new DefaultListModel();
    DefaultListModel selectListModelUpToAndroid = new DefaultListModel();
    DefaultListModel houseSelectListModel = new DefaultListModel();
    DefaultListModel houseListModel = new DefaultListModel();
    DefaultListModel typeList = new DefaultListModel();
    DefaultListModel villageList = new DefaultListModel();
    DefaultListModel emptyList = new DefaultListModel(); 

    Point start_drag;
    Point start_loc;
    /** Creates new form TransferForm */
    public TransferForm() {
        //this.setUIFont(this.getThaiFont(18f));
        initComponents();
        getVillageListUpToAndroid();
        this.setfont();
        this.setVisibleExportComponent();
        this.setVisibleImportComponent();
        ToolTipManager.sharedInstance().setInitialDelay(100);
        setLocationRelativeTo(null);
        this.decryptDialog.setLocationRelativeTo(null);
        this.upToAndroidReportDialog.setLocationRelativeTo(null);
        this.upToJhcisReportDialog.setLocationRelativeTo(null);
        this.cancelButton.setVisible(false);
        this.transferProgressBar.setVisible(false);
        this.actionLabel.setVisible(false);
        this.timerLabel.setVisible(false);
        this.timeTextLabel.setVisible(false);
        this.seccondLabel.setVisible(false);
        this.typeComboBox.setVisible(false);
        this.searchTextField.setVisible(false);
        this.searchButton.setVisible(false);
        this.exerciseRadioButton.setVisible(false);
        this.alcoholRadioButton.setVisible(false);
        this.smokingRadioButton.setVisible(false);
        this.hintLabel.setVisible(false);
        this.decryptProgressBar.setIndeterminate(true);
        
       
    }
    
    
    
    /** This method is called from within the constructor to
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel3 = new javax.swing.JPanel();
        upToAndroidReportDialog = new javax.swing.JDialog();
        jLayeredPane16 = new javax.swing.JLayeredPane();
        jButton6 = new javax.swing.JButton();
        jPanel15 = new javax.swing.JPanel();
        jLabel6 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        villageLabel = new javax.swing.JLabel();
        houseLabel = new javax.swing.JLabel();
        personLabel = new javax.swing.JLabel();
        visitLabel = new javax.swing.JLabel();
        jLabel11 = new javax.swing.JLabel();
        jLabel12 = new javax.swing.JLabel();
        jLabel13 = new javax.swing.JLabel();
        jLayeredPane15 = new javax.swing.JLayeredPane();
        jLabel7 = new javax.swing.JLabel();
        upToJhcisReportDialog = new javax.swing.JDialog();
        jLayeredPane3 = new javax.swing.JLayeredPane();
        jPanel17 = new javax.swing.JPanel();
        jLabel16 = new javax.swing.JLabel();
        jLabel17 = new javax.swing.JLabel();
        jLabel18 = new javax.swing.JLabel();
        jLabel19 = new javax.swing.JLabel();
        jLabel20 = new javax.swing.JLabel();
        personUpdateLabel = new javax.swing.JLabel();
        personBehaviorupdateLabel = new javax.swing.JLabel();
        visitUpdateLabel = new javax.swing.JLabel();
        visitdiagUpdateLabel = new javax.swing.JLabel();
        visitDrugUpdateLabel = new javax.swing.JLabel();
        jLabel27 = new javax.swing.JLabel();
        jLabel28 = new javax.swing.JLabel();
        jLabel29 = new javax.swing.JLabel();
        jLabel30 = new javax.swing.JLabel();
        jLabel31 = new javax.swing.JLabel();
        jLabel36 = new javax.swing.JLabel();
        picNumLabel = new javax.swing.JLabel();
        jLabel37 = new javax.swing.JLabel();
        jLabel26 = new javax.swing.JLabel();
        houseUpdateLabel = new javax.swing.JLabel();
        jLabel24 = new javax.swing.JLabel();
        jLabel14 = new javax.swing.JLabel();
        jLabel15 = new javax.swing.JLabel();
        jLabel32 = new javax.swing.JLabel();
        jButton2 = new javax.swing.JButton();
        villageUpToJhcisLabel = new javax.swing.JLabel();
        jPanel18 = new javax.swing.JPanel();
        jLabel25 = new javax.swing.JLabel();
        buttonGroup1 = new javax.swing.ButtonGroup();
        buttonGroup2 = new javax.swing.ButtonGroup();
        decryptDialog = new javax.swing.JDialog();
        jLayeredPane17 = new javax.swing.JLayeredPane();
        jLabel40 = new javax.swing.JLabel();
        decryptTimeLabel = new javax.swing.JLabel();
        jLabel41 = new javax.swing.JLabel();
        decryptProgressBar = new javax.swing.JProgressBar();
        jLabel42 = new javax.swing.JLabel();
        jLabel43 = new javax.swing.JLabel();
        jLayeredPane1 = new javax.swing.JLayeredPane();
        transferTabbedPane = new javax.swing.JTabbedPane();
        jPanel4 = new javax.swing.JPanel();
        villageComboBox = new javax.swing.JComboBox();
        jScrollPane5 = new javax.swing.JScrollPane();
        houseList = new javax.swing.JList();
        jScrollPane7 = new javax.swing.JScrollPane();
        houseSelectList = new javax.swing.JList();
        jButton8 = new javax.swing.JButton();
        jButton11 = new javax.swing.JButton();
        selectAllButton = new javax.swing.JButton();
        jButton1 = new javax.swing.JButton();
        jScrollPane3 = new javax.swing.JScrollPane();
        pesonTable = new javax.swing.JTable();
        upToAndroidLayeredPane = new javax.swing.JLayeredPane();
        jLayeredPane4 = new javax.swing.JLayeredPane();
        houseRadioButton = new javax.swing.JRadioButton();
        riskRadioButton = new javax.swing.JRadioButton();
        TypeRadioButton = new javax.swing.JRadioButton();
        AllRadioButton = new javax.swing.JRadioButton();
        upToAndroidButton = new javax.swing.JButton();
        jLabel38 = new javax.swing.JLabel();
        jLabel39 = new javax.swing.JLabel();
        jLayeredPane5 = new javax.swing.JLayeredPane();
        alcoholRadioButton = new javax.swing.JRadioButton();
        smokingRadioButton = new javax.swing.JRadioButton();
        exerciseRadioButton = new javax.swing.JRadioButton();
        hintLabel = new javax.swing.JLabel();
        searchTextField = new javax.swing.JTextField();
        searchButton = new javax.swing.JButton();
        typeComboBox = new javax.swing.JComboBox();
        jPanel5 = new javax.swing.JPanel();
        jLayeredPane8 = new javax.swing.JLayeredPane();
        jLayeredPane11 = new javax.swing.JLayeredPane();
        updateLabel = new javax.swing.JLabel();
        personTextLabel = new javax.swing.JLabel();
        personCountLabel = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        personbehaviorCountLabel = new javax.swing.JLabel();
        personbehaviorTextLabel = new javax.swing.JLabel();
        visitTextLabel = new javax.swing.JLabel();
        visitCountLabel = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        visitdiagCountLabel = new javax.swing.JLabel();
        visitdiagtextLabel = new javax.swing.JLabel();
        visitdrugTextLabel = new javax.swing.JLabel();
        visitdrugCountLabel = new javax.swing.JLabel();
        jLabel21 = new javax.swing.JLabel();
        jLabel22 = new javax.swing.JLabel();
        houseCountLabel = new javax.swing.JLabel();
        houseTextLabel = new javax.swing.JLabel();
        pictureTextLabel = new javax.swing.JLabel();
        pictureCountLabel = new javax.swing.JLabel();
        jLabel45 = new javax.swing.JLabel();
        jLayeredPane14 = new javax.swing.JLayeredPane();
        jScrollPane6 = new javax.swing.JScrollPane();
        villageOnAndroidList = new javax.swing.JList();
        jLabel23 = new javax.swing.JLabel();
        upToJhcisButton = new javax.swing.JButton();
        jPanel7 = new javax.swing.JPanel();
        jLayeredPane9 = new javax.swing.JLayeredPane();
        exportButton = new javax.swing.JButton();
        jLayeredPane12 = new javax.swing.JLayeredPane();
        exportPathTextField = new javax.swing.JTextField();
        jButton5 = new javax.swing.JButton();
        jLabel33 = new javax.swing.JLabel();
        jLabel34 = new javax.swing.JLabel();
        CommaRadioButton = new javax.swing.JRadioButton();
        pipeRadioButton = new javax.swing.JRadioButton();
        jLayeredPane10 = new javax.swing.JLayeredPane();
        importButton = new javax.swing.JButton();
        jLayeredPane13 = new javax.swing.JLayeredPane();
        jButton12 = new javax.swing.JButton();
        importPathTextField = new javax.swing.JTextField();
        jLabel35 = new javax.swing.JLabel();
        transferHeaderLayeredPane = new javax.swing.JLayeredPane();
        backButton = new javax.swing.JButton();
        jButton3 = new javax.swing.JButton();
        jButton4 = new javax.swing.JButton();
        jLayeredPane6 = new javax.swing.JLayeredPane();
        actionLabel = new javax.swing.JLabel();
        logLabel = new javax.swing.JLabel();
        transferProgressBar = new javax.swing.JProgressBar();
        cancelButton = new javax.swing.JButton();
        timeTextLabel = new javax.swing.JLabel();
        timerLabel = new javax.swing.JLabel();
        seccondLabel = new javax.swing.JLabel();

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 773, Short.MAX_VALUE)
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 248, Short.MAX_VALUE)
        );

        upToAndroidReportDialog.setAlwaysOnTop(true);
        upToAndroidReportDialog.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
        upToAndroidReportDialog.setMinimumSize(new java.awt.Dimension(380, 300));
        upToAndroidReportDialog.setResizable(false);

        jLayeredPane16.setBorder(new javax.swing.border.MatteBorder(new javax.swing.ImageIcon(getClass().getResource("/Image/upToAndroidReport_bg.png")))); // NOI18N

        jButton6.setText("ตกลง");
        jButton6.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton6ActionPerformed(evt);
            }
        });
        jButton6.setBounds(150, 220, 59, 31);
        jLayeredPane16.add(jButton6, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jPanel15.setBackground(new java.awt.Color(255, 255, 255));
        jPanel15.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        jPanel15.setPreferredSize(new java.awt.Dimension(300, 130));

        jLabel6.setText("หมู่บ้าน : ");

        jLabel8.setText("จำนวนหลังคาเรือน : ");

        jLabel10.setText("จำนวนการเข้าเยี่ยม :");

        jLabel9.setText("จำนวนประชากร : ");

        villageLabel.setText(null);

        houseLabel.setText(null);

        personLabel.setText(null);

        visitLabel.setText(null);

        jLabel11.setText("หลัง");

        jLabel12.setText("คน");

        jLabel13.setText("ครั้ง");

        javax.swing.GroupLayout jPanel15Layout = new javax.swing.GroupLayout(jPanel15);
        jPanel15.setLayout(jPanel15Layout);
        jPanel15Layout.setHorizontalGroup(
            jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel15Layout.createSequentialGroup()
                .addGap(24, 24, 24)
                .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel15Layout.createSequentialGroup()
                        .addComponent(jLabel6)
                        .addGap(30, 30, 30)
                        .addComponent(villageLabel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(jPanel15Layout.createSequentialGroup()
                        .addComponent(jLabel9)
                        .addGap(65, 65, 65)
                        .addComponent(personLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 65, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel15Layout.createSequentialGroup()
                        .addComponent(jLabel8)
                        .addGap(52, 52, 52)
                        .addComponent(houseLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 65, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel15Layout.createSequentialGroup()
                        .addComponent(jLabel10)
                        .addGap(53, 53, 53)
                        .addComponent(visitLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 65, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel15Layout.createSequentialGroup()
                        .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel13)
                            .addComponent(jLabel12))
                        .addGap(40, 40, 40)
                        .addComponent(jLayeredPane15, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jLabel11))
                .addContainerGap())
        );
        jPanel15Layout.setVerticalGroup(
            jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel15Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel6)
                    .addComponent(villageLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 21, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(16, 16, 16)
                .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel15Layout.createSequentialGroup()
                        .addGap(4, 4, 4)
                        .addComponent(jLabel8))
                    .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(houseLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 22, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jLabel11)))
                .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel15Layout.createSequentialGroup()
                        .addGap(16, 16, 16)
                        .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel15Layout.createSequentialGroup()
                                .addGap(3, 3, 3)
                                .addComponent(jLabel9))
                            .addComponent(personLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(17, 17, 17)
                        .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel10, javax.swing.GroupLayout.PREFERRED_SIZE, 21, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(visitLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 21, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jLabel13))))
                    .addGroup(jPanel15Layout.createSequentialGroup()
                        .addGap(18, 18, 18)
                        .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLayeredPane15, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel12))))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jPanel15.setBounds(20, 40, 335, 162);
        jLayeredPane16.add(jPanel15, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabel7.setText("รายงานข้อมูลส่งออก");
        jLabel7.setBounds(130, 4, 124, 30);
        jLayeredPane16.add(jLabel7, javax.swing.JLayeredPane.DEFAULT_LAYER);

        javax.swing.GroupLayout upToAndroidReportDialogLayout = new javax.swing.GroupLayout(upToAndroidReportDialog.getContentPane());
        upToAndroidReportDialog.getContentPane().setLayout(upToAndroidReportDialogLayout);
        upToAndroidReportDialogLayout.setHorizontalGroup(
            upToAndroidReportDialogLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLayeredPane16, javax.swing.GroupLayout.DEFAULT_SIZE, 380, Short.MAX_VALUE)
        );
        upToAndroidReportDialogLayout.setVerticalGroup(
            upToAndroidReportDialogLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLayeredPane16, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 300, Short.MAX_VALUE)
        );

        upToJhcisReportDialog.setAlwaysOnTop(true);
        upToJhcisReportDialog.setMinimumSize(new java.awt.Dimension(380, 400));

        jLayeredPane3.setBorder(new javax.swing.border.MatteBorder(new javax.swing.ImageIcon(getClass().getResource("/Image/upToJReport_bg.png")))); // NOI18N
        jLayeredPane3.setPreferredSize(new java.awt.Dimension(380, 400));

        jPanel17.setBackground(new java.awt.Color(255, 255, 255));
        jPanel17.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));
        jPanel17.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jLabel16.setText("ข้อมูลส่วนบุคคล : ");
        jPanel17.add(jLabel16, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 40, 100, 22));

        jLabel17.setText("พฤติกรรมสุขภาพ : ");
        jPanel17.add(jLabel17, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 70, 130, 22));

        jLabel18.setText("การเยี่ยม :");
        jPanel17.add(jLabel18, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 100, 90, 22));

        jLabel19.setText("วินิจฉัยโรค :");
        jPanel17.add(jLabel19, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 130, 100, 19));

        jLabel20.setText("ยา-เวชภัณฑ์-บริการ :");
        jPanel17.add(jLabel20, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 160, 110, 20));

        personUpdateLabel.setText("jLabel21");
        jPanel17.add(personUpdateLabel, new org.netbeans.lib.awtextra.AbsoluteConstraints(170, 40, -1, 20));

        personBehaviorupdateLabel.setText("jLabel22");
        jPanel17.add(personBehaviorupdateLabel, new org.netbeans.lib.awtextra.AbsoluteConstraints(170, 70, -1, 20));

        visitUpdateLabel.setText("jLabel23");
        jPanel17.add(visitUpdateLabel, new org.netbeans.lib.awtextra.AbsoluteConstraints(170, 100, -1, 20));

        visitdiagUpdateLabel.setText("jLabel24");
        jPanel17.add(visitdiagUpdateLabel, new org.netbeans.lib.awtextra.AbsoluteConstraints(170, 130, -1, 20));

        visitDrugUpdateLabel.setText("jLabel26");
        jPanel17.add(visitDrugUpdateLabel, new org.netbeans.lib.awtextra.AbsoluteConstraints(170, 160, -1, 20));

        jLabel27.setText("รายการ");
        jPanel17.add(jLabel27, new org.netbeans.lib.awtextra.AbsoluteConstraints(270, 40, 60, 21));

        jLabel28.setText("รายการ");
        jPanel17.add(jLabel28, new org.netbeans.lib.awtextra.AbsoluteConstraints(270, 70, 60, 19));

        jLabel29.setText("รายการ");
        jPanel17.add(jLabel29, new org.netbeans.lib.awtextra.AbsoluteConstraints(270, 100, 60, 18));

        jLabel30.setText("รายการ");
        jPanel17.add(jLabel30, new org.netbeans.lib.awtextra.AbsoluteConstraints(270, 130, 46, 19));

        jLabel31.setText("รายการ");
        jPanel17.add(jLabel31, new org.netbeans.lib.awtextra.AbsoluteConstraints(270, 160, 60, 19));

        jLabel36.setText("ภาพถ่าย");
        jPanel17.add(jLabel36, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 190, -1, -1));

        picNumLabel.setText("jLabel37");
        jPanel17.add(picNumLabel, new org.netbeans.lib.awtextra.AbsoluteConstraints(170, 190, -1, -1));

        jLabel37.setText("รายการ");
        jPanel17.add(jLabel37, new org.netbeans.lib.awtextra.AbsoluteConstraints(270, 190, -1, -1));

        jLabel26.setText("รายการ");
        jPanel17.add(jLabel26, new org.netbeans.lib.awtextra.AbsoluteConstraints(270, 10, -1, -1));

        houseUpdateLabel.setText("jLabel26");
        jPanel17.add(houseUpdateLabel, new org.netbeans.lib.awtextra.AbsoluteConstraints(170, 10, -1, -1));

        jLabel24.setText("พิกัดหลังคาเรือน :");
        jPanel17.add(jLabel24, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 10, -1, -1));

        jPanel17.setBounds(10, 90, 340, 220);
        jLayeredPane3.add(jPanel17, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabel14.setText("หมู่บ้าน :");
        jLabel14.setBounds(20, 34, 60, 20);
        jLayeredPane3.add(jLabel14, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabel15.setText("รายการอัพเดท");
        jLabel15.setBounds(20, 60, 110, 20);
        jLayeredPane3.add(jLabel15, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabel32.setText("รายงานการอัพเดทข้อมูล");
        jLabel32.setBounds(110, 10, 210, 20);
        jLayeredPane3.add(jLabel32, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jButton2.setText("ตกลง");
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });
        jButton2.setBounds(150, 320, 73, 30);
        jLayeredPane3.add(jButton2, javax.swing.JLayeredPane.DEFAULT_LAYER);

        villageUpToJhcisLabel.setText("jLabel5");
        villageUpToJhcisLabel.setBounds(80, 34, 210, 20);
        jLayeredPane3.add(villageUpToJhcisLabel, javax.swing.JLayeredPane.DEFAULT_LAYER);

        javax.swing.GroupLayout upToJhcisReportDialogLayout = new javax.swing.GroupLayout(upToJhcisReportDialog.getContentPane());
        upToJhcisReportDialog.getContentPane().setLayout(upToJhcisReportDialogLayout);
        upToJhcisReportDialogLayout.setHorizontalGroup(
            upToJhcisReportDialogLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLayeredPane3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        upToJhcisReportDialogLayout.setVerticalGroup(
            upToJhcisReportDialogLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLayeredPane3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
        );

        javax.swing.GroupLayout jPanel18Layout = new javax.swing.GroupLayout(jPanel18);
        jPanel18.setLayout(jPanel18Layout);
        jPanel18Layout.setHorizontalGroup(
            jPanel18Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 100, Short.MAX_VALUE)
        );
        jPanel18Layout.setVerticalGroup(
            jPanel18Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 100, Short.MAX_VALUE)
        );

        jLabel25.setText("jLabel25");

        decryptDialog.setEnabled(false);
        decryptDialog.setMinimumSize(new java.awt.Dimension(315, 180));
        decryptDialog.setResizable(false);
        decryptDialog.addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowClosing(java.awt.event.WindowEvent evt) {
                decryptDialogWindowClosing(evt);
            }
        });

        jLayeredPane17.setBorder(new javax.swing.border.MatteBorder(new javax.swing.ImageIcon(getClass().getResource("/Image/FFC_Background/decryptdialog_bg.png")))); // NOI18N

        jLabel40.setText("Time :");
        jLabel40.setBounds(20, 110, 50, -1);
        jLayeredPane17.add(jLabel40, javax.swing.JLayeredPane.DEFAULT_LAYER);

        decryptTimeLabel.setText("0");
        decryptTimeLabel.setBounds(80, 110, 30, -1);
        jLayeredPane17.add(decryptTimeLabel, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabel41.setText("Sec.");
        jLabel41.setBounds(110, 110, 50, -1);
        jLayeredPane17.add(jLabel41, javax.swing.JLayeredPane.DEFAULT_LAYER);
        decryptProgressBar.setBounds(20, 80, 276, 22);
        jLayeredPane17.add(decryptProgressBar, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabel42.setText("กรุณารอสักครู่...");
        jLabel42.setBounds(20, 40, 140, 27);
        jLayeredPane17.add(jLabel42, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabel43.setFont(new java.awt.Font("Tahoma", 1, 12));
        jLabel43.setText("กำลังถอดรหัสข้อมูล");
        jLabel43.setBounds(100, 10, 158, 25);
        jLayeredPane17.add(jLabel43, javax.swing.JLayeredPane.DEFAULT_LAYER);

        javax.swing.GroupLayout decryptDialogLayout = new javax.swing.GroupLayout(decryptDialog.getContentPane());
        decryptDialog.getContentPane().setLayout(decryptDialogLayout);
        decryptDialogLayout.setHorizontalGroup(
            decryptDialogLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLayeredPane17, javax.swing.GroupLayout.DEFAULT_SIZE, 315, Short.MAX_VALUE)
        );
        decryptDialogLayout.setVerticalGroup(
            decryptDialogLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLayeredPane17, javax.swing.GroupLayout.DEFAULT_SIZE, 180, Short.MAX_VALUE)
        );

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setUndecorated(true);
        addMouseListener(new java.awt.event.MouseAdapter() {
            public void mousePressed(java.awt.event.MouseEvent evt) {
                formMousePressed(evt);
            }
        });
        addMouseMotionListener(new java.awt.event.MouseMotionAdapter() {
            public void mouseDragged(java.awt.event.MouseEvent evt) {
                formMouseDragged(evt);
            }
        });

        jLayeredPane1.setBorder(new javax.swing.border.MatteBorder(new javax.swing.ImageIcon(getClass().getResource("/Image/bg3.jpg")))); // NOI18N

        transferTabbedPane.setTabPlacement(javax.swing.JTabbedPane.LEFT);
        transferTabbedPane.setMinimumSize(new java.awt.Dimension(850, 600));
        transferTabbedPane.setPreferredSize(new java.awt.Dimension(850, 600));
        transferTabbedPane.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                transferTabbedPaneStateChanged(evt);
            }
        });

        jPanel4.setBackground(new java.awt.Color(255, 255, 255));
        jPanel4.setAlignmentX(0.0F);
        jPanel4.setAlignmentY(0.0F);
        jPanel4.setMinimumSize(new java.awt.Dimension(850, 650));
        jPanel4.setPreferredSize(new java.awt.Dimension(850, 650));
        jPanel4.setVerifyInputWhenFocusTarget(false);
        jPanel4.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        villageComboBox.setModel(new javax.swing.DefaultComboBoxModel(new String[] { " == กรุณาเลือกหมู่บ้าน ==" }));
        villageComboBox.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                villageComboBoxItemStateChanged(evt);
            }
        });
        jPanel4.add(villageComboBox, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 30, 180, -1));

        houseList.setVisibleRowCount(7);
        houseList.addListSelectionListener(new javax.swing.event.ListSelectionListener() {
            public void valueChanged(javax.swing.event.ListSelectionEvent evt) {
                houseListValueChanged(evt);
            }
        });
        jScrollPane5.setViewportView(houseList);

        jPanel4.add(jScrollPane5, new org.netbeans.lib.awtextra.AbsoluteConstraints(240, 90, 180, 220));

        houseSelectList.addListSelectionListener(new javax.swing.event.ListSelectionListener() {
            public void valueChanged(javax.swing.event.ListSelectionEvent evt) {
                houseSelectListValueChanged(evt);
            }
        });
        jScrollPane7.setViewportView(houseSelectList);

        jPanel4.add(jScrollPane7, new org.netbeans.lib.awtextra.AbsoluteConstraints(540, 90, 180, 220));

        jButton8.setText(">>");
        jButton8.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton8ActionPerformed(evt);
            }
        });
        jPanel4.add(jButton8, new org.netbeans.lib.awtextra.AbsoluteConstraints(450, 150, 60, -1));

        jButton11.setText("<<");
        jButton11.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton11ActionPerformed(evt);
            }
        });
        jPanel4.add(jButton11, new org.netbeans.lib.awtextra.AbsoluteConstraints(450, 190, 60, -1));

        selectAllButton.setText("Add all");
        selectAllButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                selectAllButtonActionPerformed(evt);
            }
        });
        jPanel4.add(selectAllButton, new org.netbeans.lib.awtextra.AbsoluteConstraints(440, 110, 80, -1));

        jButton1.setText("Remove all");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });
        jPanel4.add(jButton1, new org.netbeans.lib.awtextra.AbsoluteConstraints(430, 230, 100, -1));

        pesonTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "คำนำหน้าชื่อ", "ชื่อ", "นามสกุล", "รหัสบ้าน"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        pesonTable.setRowHeight(17);
        jScrollPane3.setViewportView(pesonTable);

        jPanel4.add(jScrollPane3, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 330, 710, 120));

        upToAndroidLayeredPane.setBorder(new javax.swing.border.MatteBorder(new javax.swing.ImageIcon(getClass().getResource("/Image/background_newer.jpg")))); // NOI18N

        jLayeredPane4.setBorder(new javax.swing.border.MatteBorder(new javax.swing.ImageIcon(getClass().getResource("/Image/bg_bg_210x130.png")))); // NOI18N

        buttonGroup1.add(houseRadioButton);
        houseRadioButton.setText("เลือกค้นหาจากบุคคล");
        houseRadioButton.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                houseRadioButtonItemStateChanged(evt);
            }
        });
        houseRadioButton.setBounds(20, 100, 160, 23);
        jLayeredPane4.add(houseRadioButton, javax.swing.JLayeredPane.DEFAULT_LAYER);

        buttonGroup1.add(riskRadioButton);
        riskRadioButton.setText("เลือกเฉพาะกลุ่มเสี่ยง");
        riskRadioButton.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                riskRadioButtonItemStateChanged(evt);
            }
        });
        riskRadioButton.setBounds(20, 70, 160, 23);
        jLayeredPane4.add(riskRadioButton, javax.swing.JLayeredPane.DEFAULT_LAYER);

        buttonGroup1.add(TypeRadioButton);
        TypeRadioButton.setText("เลือกตามประเภทผู้ป่วย");
        TypeRadioButton.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                TypeRadioButtonItemStateChanged(evt);
            }
        });
        TypeRadioButton.setBounds(20, 40, 160, 23);
        jLayeredPane4.add(TypeRadioButton, javax.swing.JLayeredPane.DEFAULT_LAYER);

        buttonGroup1.add(AllRadioButton);
        AllRadioButton.setText("เลือกทั้งหมด");
        AllRadioButton.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                AllRadioButtonItemStateChanged(evt);
            }
        });
        AllRadioButton.setBounds(20, 10, 110, 23);
        jLayeredPane4.add(AllRadioButton, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLayeredPane4.setBounds(10, 70, 210, 130);
        upToAndroidLayeredPane.add(jLayeredPane4, javax.swing.JLayeredPane.DEFAULT_LAYER);

        upToAndroidButton.setText("Up to Android");
        upToAndroidButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                upToAndroidButtonActionPerformed(evt);
            }
        });
        upToAndroidButton.setBounds(610, 10, 110, 40);
        upToAndroidLayeredPane.add(upToAndroidButton, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabel38.setText("บ้านเลขที่ :");
        jLabel38.setBounds(540, 60, 70, 30);
        upToAndroidLayeredPane.add(jLabel38, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabel39.setText("บ้านเลขที่ :");
        jLabel39.setBounds(240, 60, 70, 30);
        upToAndroidLayeredPane.add(jLabel39, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLayeredPane5.setBorder(new javax.swing.border.MatteBorder(new javax.swing.ImageIcon(getClass().getResource("/Image/bg_bg210x100.png")))); // NOI18N

        alcoholRadioButton.setText("ดื่มเหล้า");
        alcoholRadioButton.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                alcoholRadioButtonItemStateChanged(evt);
            }
        });
        alcoholRadioButton.setBounds(20, 40, 130, 23);
        jLayeredPane5.add(alcoholRadioButton, javax.swing.JLayeredPane.DEFAULT_LAYER);

        smokingRadioButton.setText("สูบบุหรี่");
        smokingRadioButton.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                smokingRadioButtonItemStateChanged(evt);
            }
        });
        smokingRadioButton.setBounds(20, 70, 130, 23);
        jLayeredPane5.add(smokingRadioButton, javax.swing.JLayeredPane.DEFAULT_LAYER);

        exerciseRadioButton.setText("ไม่ออกกำลังกาย");
        exerciseRadioButton.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                exerciseRadioButtonItemStateChanged(evt);
            }
        });
        exerciseRadioButton.setBounds(20, 10, 130, 23);
        jLayeredPane5.add(exerciseRadioButton, javax.swing.JLayeredPane.DEFAULT_LAYER);

        hintLabel.setFont(new java.awt.Font("Tahoma", 0, 10));
        hintLabel.setText("สามารถค้นหาจากชื่อและเลข 13 หลัก");
        hintLabel.setEnabled(false);
        hintLabel.setBounds(10, 10, 180, 13);
        jLayeredPane5.add(hintLabel, javax.swing.JLayeredPane.DEFAULT_LAYER);
        searchTextField.setBounds(10, 30, 180, 30);
        jLayeredPane5.add(searchTextField, javax.swing.JLayeredPane.DEFAULT_LAYER);

        searchButton.setText("ค้นหา");
        searchButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                searchButtonActionPerformed(evt);
            }
        });
        searchButton.setBounds(10, 60, 70, 30);
        jLayeredPane5.add(searchButton, javax.swing.JLayeredPane.DEFAULT_LAYER);

        typeComboBox.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                typeComboBoxItemStateChanged(evt);
            }
        });
        typeComboBox.setBounds(10, 30, 180, 30);
        jLayeredPane5.add(typeComboBox, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLayeredPane5.setBounds(10, 210, 210, 100);
        upToAndroidLayeredPane.add(jLayeredPane5, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jPanel4.add(upToAndroidLayeredPane, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 730, 460));

        transferTabbedPane.addTab("", new javax.swing.ImageIcon(getClass().getResource("/Image/upToAndroidTab.png")), jPanel4, "ถ่ายโอนข้อมูลเข้าสู่ Android"); // NOI18N

        jPanel5.setBackground(new java.awt.Color(255, 255, 255));
        jPanel5.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jLayeredPane8.setBorder(new javax.swing.border.MatteBorder(new javax.swing.ImageIcon(getClass().getResource("/Image/background_newer.jpg")))); // NOI18N

        jLayeredPane11.setBorder(new javax.swing.border.MatteBorder(new javax.swing.ImageIcon(getClass().getResource("/Image/updateList_bg.png")))); // NOI18N

        updateLabel.setText("รายการอัพเดท");
        updateLabel.setBounds(130, 0, 100, 30);
        jLayeredPane11.add(updateLabel, javax.swing.JLayeredPane.DEFAULT_LAYER);

        personTextLabel.setFont(new java.awt.Font("Tahoma", 1, 12));
        personTextLabel.setText("ข้อมูลส่วนบุคคล :");
        personTextLabel.setBounds(30, 90, 136, 30);
        jLayeredPane11.add(personTextLabel, javax.swing.JLayeredPane.DEFAULT_LAYER);
        personCountLabel.setBounds(190, 90, 50, 30);
        jLayeredPane11.add(personCountLabel, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabel2.setText("รายการ");
        jLabel2.setBounds(270, 90, 60, 30);
        jLayeredPane11.add(jLabel2, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabel3.setText("รายการ");
        jLabel3.setBounds(270, 120, 60, 30);
        jLayeredPane11.add(jLabel3, javax.swing.JLayeredPane.DEFAULT_LAYER);
        personbehaviorCountLabel.setBounds(190, 120, 50, 30);
        jLayeredPane11.add(personbehaviorCountLabel, javax.swing.JLayeredPane.DEFAULT_LAYER);

        personbehaviorTextLabel.setFont(new java.awt.Font("Tahoma", 1, 12));
        personbehaviorTextLabel.setText("พฤติกรรมสุขภาพ :");
        personbehaviorTextLabel.setBounds(30, 120, 136, 30);
        jLayeredPane11.add(personbehaviorTextLabel, javax.swing.JLayeredPane.DEFAULT_LAYER);

        visitTextLabel.setFont(new java.awt.Font("Tahoma", 1, 12));
        visitTextLabel.setText("การเยี่ยม :");
        visitTextLabel.setBounds(30, 150, 136, 30);
        jLayeredPane11.add(visitTextLabel, javax.swing.JLayeredPane.DEFAULT_LAYER);
        visitCountLabel.setBounds(190, 150, 50, 30);
        jLayeredPane11.add(visitCountLabel, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabel4.setText("รายการ");
        jLabel4.setBounds(270, 150, 60, 30);
        jLayeredPane11.add(jLabel4, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabel5.setText("รายการ");
        jLabel5.setBounds(270, 180, 60, 30);
        jLayeredPane11.add(jLabel5, javax.swing.JLayeredPane.DEFAULT_LAYER);
        visitdiagCountLabel.setBounds(190, 180, 50, 30);
        jLayeredPane11.add(visitdiagCountLabel, javax.swing.JLayeredPane.DEFAULT_LAYER);

        visitdiagtextLabel.setFont(new java.awt.Font("Tahoma", 1, 12));
        visitdiagtextLabel.setText("วินิจฉัยโรค :");
        visitdiagtextLabel.setBounds(30, 180, 136, 30);
        jLayeredPane11.add(visitdiagtextLabel, javax.swing.JLayeredPane.DEFAULT_LAYER);

        visitdrugTextLabel.setFont(new java.awt.Font("Tahoma", 1, 12));
        visitdrugTextLabel.setText("ยา-เวชภัณฑ์-บริการ : ");
        visitdrugTextLabel.setBounds(30, 210, 136, 30);
        jLayeredPane11.add(visitdrugTextLabel, javax.swing.JLayeredPane.DEFAULT_LAYER);
        visitdrugCountLabel.setBounds(190, 210, 50, 30);
        jLayeredPane11.add(visitdrugCountLabel, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabel21.setText("รายการ");
        jLabel21.setBounds(270, 240, 60, 30);
        jLayeredPane11.add(jLabel21, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabel22.setText("รายการ");
        jLabel22.setBounds(270, 60, 60, 30);
        jLayeredPane11.add(jLabel22, javax.swing.JLayeredPane.DEFAULT_LAYER);
        houseCountLabel.setBounds(190, 60, 50, 30);
        jLayeredPane11.add(houseCountLabel, javax.swing.JLayeredPane.DEFAULT_LAYER);

        houseTextLabel.setFont(new java.awt.Font("Tahoma", 1, 12));
        houseTextLabel.setText("พิกัดหลังคาเรือน :");
        houseTextLabel.setBounds(30, 60, 136, 30);
        jLayeredPane11.add(houseTextLabel, javax.swing.JLayeredPane.DEFAULT_LAYER);

        pictureTextLabel.setFont(new java.awt.Font("Tahoma", 1, 12));
        pictureTextLabel.setText("ภาพถ่าย :");
        pictureTextLabel.setBounds(30, 240, 140, 30);
        jLayeredPane11.add(pictureTextLabel, javax.swing.JLayeredPane.DEFAULT_LAYER);
        pictureCountLabel.setBounds(190, 240, 50, 30);
        jLayeredPane11.add(pictureCountLabel, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabel45.setText("รายการ");
        jLabel45.setBounds(270, 210, 60, 30);
        jLayeredPane11.add(jLabel45, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLayeredPane11.setBounds(360, 90, 330, 320);
        jLayeredPane8.add(jLayeredPane11, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLayeredPane14.setBorder(new javax.swing.border.MatteBorder(new javax.swing.ImageIcon(getClass().getResource("/Image/updateVillageList_bg.png")))); // NOI18N

        jScrollPane6.setViewportView(villageOnAndroidList);

        jScrollPane6.setBounds(0, 30, 280, 290);
        jLayeredPane14.add(jScrollPane6, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabel23.setText("รายชื่อหมู่บ้านที่มีการอัพเดต");
        jLabel23.setBounds(60, 0, 170, 30);
        jLayeredPane14.add(jLabel23, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLayeredPane14.setBounds(50, 90, 280, 320);
        jLayeredPane8.add(jLayeredPane14, javax.swing.JLayeredPane.DEFAULT_LAYER);

        upToJhcisButton.setText("Up to JHCIS");
        upToJhcisButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                upToJhcisButtonActionPerformed(evt);
            }
        });
        upToJhcisButton.setBounds(580, 30, 108, 40);
        jLayeredPane8.add(upToJhcisButton, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jPanel5.add(jLayeredPane8, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 740, 460));

        transferTabbedPane.addTab("", new javax.swing.ImageIcon(getClass().getResource("/Image/upToJHCISTab.png")), jPanel5, "ถ่ายโอนข้อมูลเข้าสู่ Server"); // NOI18N

        jPanel7.setBackground(new java.awt.Color(255, 255, 255));
        jPanel7.setPreferredSize(new java.awt.Dimension(635, 403));

        jLayeredPane9.setBorder(new javax.swing.border.MatteBorder(new javax.swing.ImageIcon(getClass().getResource("/Image/background_newer.jpg")))); // NOI18N

        exportButton.setText("Export To TextFile");
        exportButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                exportButtonActionPerformed(evt);
            }
        });
        exportButton.setBounds(510, 270, 150, 40);
        jLayeredPane9.add(exportButton, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLayeredPane12.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        exportPathTextField.setBounds(140, 20, 300, 30);
        jLayeredPane12.add(exportPathTextField, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jButton5.setText("Browse...");
        jButton5.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton5ActionPerformed(evt);
            }
        });
        jButton5.setBounds(450, 20, 90, 30);
        jLayeredPane12.add(jButton5, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabel33.setText("Save Path :");
        jLabel33.setBounds(50, 20, 80, 30);
        jLayeredPane12.add(jLabel33, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabel34.setText("Separateed By :");
        jLabel34.setBounds(30, 70, 100, 30);
        jLayeredPane12.add(jLabel34, javax.swing.JLayeredPane.DEFAULT_LAYER);

        buttonGroup2.add(CommaRadioButton);
        CommaRadioButton.setSelected(true);
        CommaRadioButton.setText(", (Comma)");
        CommaRadioButton.setBounds(140, 70, 100, -1);
        jLayeredPane12.add(CommaRadioButton, javax.swing.JLayeredPane.DEFAULT_LAYER);

        buttonGroup2.add(pipeRadioButton);
        pipeRadioButton.setText("| (Pipe)");
        pipeRadioButton.setBounds(250, 70, 70, -1);
        jLayeredPane12.add(pipeRadioButton, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLayeredPane12.setBounds(80, 130, 580, 120);
        jLayeredPane9.add(jLayeredPane12, javax.swing.JLayeredPane.DEFAULT_LAYER);

        javax.swing.GroupLayout jPanel7Layout = new javax.swing.GroupLayout(jPanel7);
        jPanel7.setLayout(jPanel7Layout);
        jPanel7Layout.setHorizontalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLayeredPane9, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 725, Short.MAX_VALUE)
        );
        jPanel7Layout.setVerticalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLayeredPane9, javax.swing.GroupLayout.DEFAULT_SIZE, 465, Short.MAX_VALUE)
        );

        transferTabbedPane.addTab("", new javax.swing.ImageIcon(getClass().getResource("/Image/exportTab.png")), jPanel7, "ส่งออกข้อมูลจาก Android ไปเป็น Textfile"); // NOI18N

        jLayeredPane10.setBorder(new javax.swing.border.MatteBorder(new javax.swing.ImageIcon(getClass().getResource("/Image/background_newer.jpg")))); // NOI18N

        importButton.setText("Import To Android");
        importButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                importButtonActionPerformed(evt);
            }
        });
        importButton.setBounds(510, 160, 150, 40);
        jLayeredPane10.add(importButton, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLayeredPane13.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        jButton12.setText("Browse...");
        jButton12.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton12ActionPerformed(evt);
            }
        });
        jButton12.setBounds(440, 20, 90, 30);
        jLayeredPane13.add(jButton12, javax.swing.JLayeredPane.DEFAULT_LAYER);
        importPathTextField.setBounds(130, 20, 290, 30);
        jLayeredPane13.add(importPathTextField, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabel35.setText("File Path :");
        jLabel35.setBounds(60, 20, 60, 30);
        jLayeredPane13.add(jLabel35, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLayeredPane13.setBounds(90, 70, 570, 70);
        jLayeredPane10.add(jLayeredPane13, javax.swing.JLayeredPane.DEFAULT_LAYER);

        transferTabbedPane.addTab("", new javax.swing.ImageIcon(getClass().getResource("/Image/importTab.png")), jLayeredPane10); // NOI18N

        transferTabbedPane.setBounds(10, 110, 870, 470);
        jLayeredPane1.add(transferTabbedPane, javax.swing.JLayeredPane.DEFAULT_LAYER);

        transferHeaderLayeredPane.setBorder(new javax.swing.border.MatteBorder(new javax.swing.ImageIcon(getClass().getResource("/Image/transfer_2.jpg")))); // NOI18N
        transferHeaderLayeredPane.setPreferredSize(new java.awt.Dimension(900, 100));

        backButton.setBackground(new java.awt.Color(227, 227, 227));
        backButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Image/homeIcon.png"))); // NOI18N
        backButton.setRolloverIcon(new javax.swing.ImageIcon(getClass().getResource("/Image/homeIcon_mouseOver.png"))); // NOI18N
        backButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                backButtonActionPerformed(evt);
            }
        });
        backButton.setBounds(30, 10, 70, 70);
        transferHeaderLayeredPane.add(backButton, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jButton3.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Image/close-green20x20.png"))); // NOI18N
        jButton3.setRolloverIcon(new javax.swing.ImageIcon(getClass().getResource("/Image/close-green2.png"))); // NOI18N
        jButton3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton3ActionPerformed(evt);
            }
        });
        jButton3.setBounds(850, 10, 20, 20);
        transferHeaderLayeredPane.add(jButton3, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jButton4.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Image/minimize-green20x20.png"))); // NOI18N
        jButton4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton4ActionPerformed(evt);
            }
        });
        jButton4.setBounds(830, 10, 20, 20);
        transferHeaderLayeredPane.add(jButton4, javax.swing.JLayeredPane.DEFAULT_LAYER);

        transferHeaderLayeredPane.setBounds(10, 10, 880, 100);
        jLayeredPane1.add(transferHeaderLayeredPane, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLayeredPane6.setBorder(new javax.swing.border.MatteBorder(new javax.swing.ImageIcon(getClass().getResource("/Image/footer_newer.jpg")))); // NOI18N

        actionLabel.setText("ดำเนินการ : ");
        actionLabel.setBounds(150, 20, 57, 30);
        jLayeredPane6.add(actionLabel, javax.swing.JLayeredPane.DEFAULT_LAYER);
        logLabel.setBounds(210, 20, 223, 30);
        jLayeredPane6.add(logLabel, javax.swing.JLayeredPane.DEFAULT_LAYER);

        transferProgressBar.setMinimumSize(new java.awt.Dimension(400, 25));
        transferProgressBar.setPreferredSize(new java.awt.Dimension(400, 25));
        transferProgressBar.setStringPainted(true);
        transferProgressBar.setBounds(440, 25, 346, 20);
        jLayeredPane6.add(transferProgressBar, javax.swing.JLayeredPane.DEFAULT_LAYER);

        cancelButton.setText("Cancel");
        cancelButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cancelButtonActionPerformed(evt);
            }
        });
        cancelButton.setBounds(800, 20, 70, 30);
        jLayeredPane6.add(cancelButton, javax.swing.JLayeredPane.DEFAULT_LAYER);

        timeTextLabel.setText("Time :");
        timeTextLabel.setBounds(440, 40, 50, 20);
        jLayeredPane6.add(timeTextLabel, javax.swing.JLayeredPane.DEFAULT_LAYER);

        timerLabel.setText("0");
        timerLabel.setBounds(510, 40, 23, 20);
        jLayeredPane6.add(timerLabel, javax.swing.JLayeredPane.DEFAULT_LAYER);

        seccondLabel.setText("sec");
        seccondLabel.setBounds(550, 40, 38, 20);
        jLayeredPane6.add(seccondLabel, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLayeredPane6.setBounds(10, 580, 880, 60);
        jLayeredPane1.add(jLayeredPane6, javax.swing.JLayeredPane.DEFAULT_LAYER);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLayeredPane1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 900, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLayeredPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 648, javax.swing.GroupLayout.PREFERRED_SIZE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void backButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_backButtonActionPerformed
        // TODO add your handling code here:
        //if(!Service.Service.checkworking){
        MainForm.closeForm(2);
        Service.Service.mainform.setLocation(Service.Service.frameLocation);
        Main.openMain();
      /*  }else{
            JOptionPane.showMessageDialog(this,
            "กรุณารอให้ทำงานเสร็จสิ้นก่อน",
            "Warning !!!",
            JOptionPane.WARNING_MESSAGE);
        }*/
    }//GEN-LAST:event_backButtonActionPerformed

    private void upToAndroidButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_upToAndroidButtonActionPerformed
        // TODO add your handling code here:
        String village = this.villageComboBox.getSelectedItem().toString();
        //if(!Service.Service.checkworking){
        DriveBehavior driveBehavior = new DriveBehavior();
            if(Service.Service.connectDeviceStatus)
            {
                if(!this.houseSelectListModel.isEmpty())
                {
                try {
                    if (driveBehavior.checkDeviceExist(Service.Service.serialDeviceConnect)) {
                        boolean show = true;
                        this.timerLabel.setText("0");
                        this.logLabel.setText("");
                        this.upToAndroidButton.setEnabled(false);
                        this.setVisibleProgressComponent(show);
                        JhcisToAndroid jhcisToAndroid = new JhcisToAndroid();
                        jhcisToAndroid.innitInformation(this.houseSelectListModel, village);
                        jhcisToAndroidThread = new Thread(jhcisToAndroid);
                        jhcisToAndroidThread.start();
                        Service.Service.checkworking = true;
                        //MainForm.transForm.setVisibleReportDialog(true);
                    }else{
                        JOptionPane.showMessageDialog(this, "ไม่พบอุปกรณ์ กรุณาตรวจสอบการเชื่อมต่อ");
                    }
                } catch (IOException ex) {
                    Logger.getLogger(TransferForm.class.getName()).log(Level.SEVERE, null, ex);
                }
                }
                else{
                    JOptionPane.showMessageDialog(this, "กรุณาเลือกข้อมูลที่ต้องการนำเข้า");
                }

            }
            else
            {
                int n = JOptionPane.showConfirmDialog(this, "กรุณาทำการเชื่อมต่ออุปกรณ์","Warning !!!",JOptionPane.WARNING_MESSAGE);
                if(n == JOptionPane.YES_OPTION)
                {
                    this.upToJhcisButton.setEnabled(true);
                    this.setVisible(false);
                    MainForm.openConnectForm();
                }
                else
                {}
            }
      /*  }
        else{
            JOptionPane.showMessageDialog(this,
            "กรุณารอให้ทำงานเสร็จสิ้นก่อน",
            "Warning !!!",
            JOptionPane.WARNING_MESSAGE);
        }*/
    }//GEN-LAST:event_upToAndroidButtonActionPerformed

    private void cancelButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cancelButtonActionPerformed
        // TODO add your handling code here:
        boolean show = false;
      if(this.transferTabbedPane.getSelectedIndex() == 0)
      {
        int n = JOptionPane.showConfirmDialog(this, "คุณแน่ใจหรือว่าต้องการจะยกเลิกการทำงาน","Warning !!!", JOptionPane.WARNING_MESSAGE);
        if(n == JOptionPane.YES_OPTION)
        {
            if(this.transferTabbedPane.getSelectedIndex() == 0){
                this.jhcisToAndroidThread.stop();
                this.setVisibleProgressComponent(show);
                this.upToAndroidButton.setEnabled(true);
            }
            if(this.transferTabbedPane.getSelectedIndex() == 1){
                this.andoirdToJhcisThread.stop();
                this.setVisibleProgressComponent(show);
                this.upToJhcisButton.setEnabled(true);
            }
        }
        else
        {}
      }
      else if(this.transferTabbedPane.getSelectedIndex() == 1)
      {
          
      }
    }//GEN-LAST:event_cancelButtonActionPerformed

    private void upToJhcisButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_upToJhcisButtonActionPerformed
        // TODO add your handling code here:
      //  if(!Service.Service.checkworking){
        if(Service.Service.connectDeviceStatus)
        {
            this.upToJhcisButton.setEnabled(false);
            boolean show = true;
            this.timerLabel.setText("0");
            this.transferProgressBar.setValue(0);
            this.setVisibleProgressComponent(show);
            AndroidToJhcis androidToJhcis = new AndroidToJhcis();
            this.andoirdToJhcisThread = new Thread(androidToJhcis);
            this.andoirdToJhcisThread.start();
            //this.upToJhcisReportDialog.setVisible(true);
        }
        else
        {
            int n = JOptionPane.showConfirmDialog(this, "กรุณาทำการเชื่อมต่ออุปกรณ์","Warning !!!",JOptionPane.WARNING_MESSAGE);
            if(n == JOptionPane.YES_OPTION)
            {
                this.upToJhcisButton.setEnabled(true);
                this.setVisible(false);
                MainForm.openConnectForm();
            }
            else
            {
                this.upToJhcisButton.setEnabled(true);
            }
        }
     /*   }else
            JOptionPane.showMessageDialog(this,
            "กรุณารอให้การทำงานเสร็จสิ้นก่อน",
            "Warning !!!",
            JOptionPane.WARNING_MESSAGE);*/
        
    }//GEN-LAST:event_upToJhcisButtonActionPerformed

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
        // TODO add your handling code here:
        boolean show = false;
        //this.upToJhcisButton.setEnabled(true);
        this.upToJhcisReportDialog.setVisible(show);
        this.setVisibleProgressComponent(show);
    }//GEN-LAST:event_jButton2ActionPerformed

    private void typeComboBoxItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_typeComboBoxItemStateChanged
        // TODO add your handling code here:
        if(this.TypeRadioButton.isSelected()){
            this.houseListModel.clear();
            ResultSet rs = Service.Service.connectionSQL.getResultSetHouseChronic(this.typeComboBox.getSelectedIndex()
                           , this.villageComboBox.getSelectedItem().toString().substring(0,8));
            System.out.println(this.villageComboBox.getSelectedItem().toString().substring(0,8));
            if(rs != null)
            {
            try {
                while(rs.next())
                {
                    this.houseListModel.addElement(rs.getString("hno"));
                }
             } catch (SQLException ex) {
                JOptionPane.showMessageDialog(this, "ERROR : "+ex.getMessage());
                Logger.getLogger(TransferForm.class.getName()).log(Level.SEVERE, null, ex);
            }
            if(this.houseListModel.isEmpty()){
                this.houseListModel.addElement("   ---------- ไม่พบบ้าน ----------");
            }
            this.houseList.setModel(this.houseListModel);
            }
            else
            {
                    this.houseListModel.addElement("   ---------- ไม่พบบ้าน ----------");
                    this.houseList.setModel(this.houseListModel);
                
            }
        }
        if(this.houseRadioButton.isSelected()){
            
        }
    }//GEN-LAST:event_typeComboBoxItemStateChanged

    private void jButton8ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton8ActionPerformed
        // TODO add your handling code here:
        if(this.houseList.getSelectedIndex() != -1)
        {
            Object selectValues[] = this.houseList.getSelectedValues();
            this.dataSelectLists.clear();
          /*  for(int i=0; i<selectValues.length; i++)
            {
                this.dataSelectLists.add(selectValues[i].toString());
            }*/
            if(this.houseRadioButton.isSelected()){
                String[] houseNo;
                for(int j=0; j<selectValues.length; j++){
                    houseNo = selectValues[j].toString().split("[ ][:]");
                    this.houseSelectListModel.addElement(houseNo[0]);
                }
            }else{
                for(int i=0; i<selectValues.length; i++){
                    this.houseSelectListModel.addElement(selectValues[i].toString());
                }
            }
            this.houseSelectList.setModel(this.houseSelectListModel); 
        }
        else
        {
            JOptionPane.showMessageDialog(this, "กรุณาเลือกข้อมูลที่ต้องการนำเข้า","Waring !!!",JOptionPane.WARNING_MESSAGE);
        }
    }//GEN-LAST:event_jButton8ActionPerformed

    private void jButton11ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton11ActionPerformed
        // TODO add your handling code here:
        if(this.houseSelectList.getSelectedIndex() == -1)
        {
            
        }
        else
        {
             Object selectValues[] = this.houseSelectList.getSelectedValues();
             /*for(int i=0; i<this.dataSelectLists.size(); i++)
             {
                 System.out.println(selectValues[0].toString() + "==" + this.dataSelectLists.get(i));
                 if(selectValues[i].toString().equals(this.dataSelectLists.get(i)))
                 { 
                     this.selectListModelUpToAndroid.remove(i);
                     this.dataSelectLists.remove(i);
                 }
             }*/
             for(int i=0; i<selectValues.length; i++)
             {
                 for(int j=0; j<this.houseSelectListModel.size(); j++)
                 {
                     if(selectValues[i].equals(this.houseSelectListModel.getElementAt(j).toString()))
                     {
                         this.houseSelectListModel.removeElementAt(j);
                     }
                 }
                 
             }
           this.houseSelectList.setModel(this.houseSelectListModel);
           selectAllButton.setEnabled(true);
        }
    }//GEN-LAST:event_jButton11ActionPerformed

    private void selectAllButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_selectAllButtonActionPerformed
        // TODO add your handling code here:
        if(this.houseRadioButton.isSelected()){
            String[] houseNo;
            for(int j=0; j<this.houseListModel.size(); j++){
                houseNo = this.houseListModel.getElementAt(j).toString().split("[ ][:]");
                this.houseSelectListModel.addElement(houseNo[0]);
            }
        }else{
            for(int i=0; i<this.houseListModel.size(); i++)
            {
                this.houseSelectListModel.addElement(this.houseListModel.getElementAt(i));
            }
        }
        houseSelectList.setModel(this.houseSelectListModel);
    }//GEN-LAST:event_selectAllButtonActionPerformed

    private void AllRadioButtonItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_AllRadioButtonItemStateChanged
        // TODO add your handling code here:
        this.hintLabel.setVisible(false);
        
        this.exerciseRadioButton.setVisible(false);
        this.alcoholRadioButton.setVisible(false);
        this.smokingRadioButton.setVisible(false);
        
        this.typeComboBox.setVisible(false);
        this.searchButton.setVisible(false);
        this.searchTextField.setVisible(false);
        
        this.houseListModel.clear();
        this.houseList.setModel(this.houseListModel);
        
        if(this.AllRadioButton.isSelected() && this.villageComboBox.getSelectedIndex() != 0)
        {
            String query = "SELECT hno FROM house WHERE villcode = " + this.villageComboBox.getSelectedItem().toString().substring(0,8) 
                    +" ORDER BY char_length(substr(hno,1,locate('/',concat(hno,'/'))-1)), hno ASC";
            ResultSet rs = Service.Service.connectionSQL.getResultSet(query);
            try {
                while(rs.next())
                {
                    this.houseListModel.addElement(rs.getString("hno"));
                }
            } catch (SQLException ex) {
                JOptionPane.showMessageDialog(this, "ERROR : "+ex.getMessage());
                Logger.getLogger(TransferForm.class.getName()).log(Level.SEVERE, null, ex);
            }
            if(this.houseListModel.isEmpty()){
                this.houseListModel.addElement("   ---------- ไม่พบบ้าน ----------");
            }
            this.houseList.setModel(this.houseListModel);
        }
    }//GEN-LAST:event_AllRadioButtonItemStateChanged

    private void TypeRadioButtonItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_TypeRadioButtonItemStateChanged
        // TODO add your handling code here:
        this.exerciseRadioButton.setVisible(false);
        this.alcoholRadioButton.setVisible(false);
        this.smokingRadioButton.setVisible(false);
        
        this.searchButton.setVisible(false);
        this.searchTextField.setVisible(false);
        
        this.hintLabel.setVisible(false);
        
        this.houseListModel.clear();
        this.houseList.setModel(this.houseListModel);
        
        if(this.TypeRadioButton.isSelected())
        {
            this.typeComboBox.removeAllItems();
            ResultSet rs;
            PreparedStatement pstmt;
            String query;
            this.typeComboBox.addItem("== เลือกประเภทผู้ป่วย ==");
            this.typeComboBox.addItem("หญิงตั้งครรภ์");
            this.typeComboBox.addItem("แม่หลังคลอด");
            this.typeComboBox.addItem("ผู้พิการ");
            query = "SELECT groupname From cdiseasechronic";
            try {
                    pstmt = Service.Service.connectionSQL.connection.prepareStatement(query);
                    rs = pstmt.executeQuery();
                    while(rs.next())
                    {
                        this.typeComboBox.addItem(rs.getString("groupname"));
                    }
                    this.houseList.setModel(typeList);
            } catch (Exception ex) {
                System.out.println(ex.getMessage());
                Logger.getLogger(TransferForm.class.getName()).log(Level.SEVERE, null, ex);
            }
            this.typeComboBox.setVisible(true);
        }
    }//GEN-LAST:event_TypeRadioButtonItemStateChanged

    private void houseRadioButtonItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_houseRadioButtonItemStateChanged
        // TODO add your handling code here:
 
        this.houseListModel.clear();
        this.houseList.setModel(this.houseListModel);
        this.typeComboBox.removeAllItems();
        this.typeComboBox.setVisible(false);
        
        if(this.houseRadioButton.isSelected())
        {
            this.searchButton.setVisible(true);
            this.searchTextField.setVisible(true);
            this.hintLabel.setVisible(true);
        }
        this.exerciseRadioButton.setVisible(false);
        this.alcoholRadioButton.setVisible(false);
        this.smokingRadioButton.setVisible(false);
        
        
        
    }//GEN-LAST:event_houseRadioButtonItemStateChanged

    private void villageComboBoxItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_villageComboBoxItemStateChanged
        // TODO add your handling code here:
        this.houseSelectList.setModel(this.emptyList);
        this.houseList.setModel(this.emptyList);
        this.houseListModel.clear();
        this.houseSelectListModel.clear();
        
    }//GEN-LAST:event_villageComboBoxItemStateChanged

    private void riskRadioButtonItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_riskRadioButtonItemStateChanged
        // TODO add your handling code here:
        if(this.riskRadioButton.isSelected()){
            this.exerciseRadioButton.setVisible(true);
            this.alcoholRadioButton.setVisible(true);
            this.smokingRadioButton.setVisible(true);
        }
        
        this.typeComboBox.setVisible(false);
        this.searchButton.setVisible(false);
        this.searchTextField.setVisible(false);
                
        this.hintLabel.setVisible(false);
        
    }//GEN-LAST:event_riskRadioButtonItemStateChanged

    private void searchButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_searchButtonActionPerformed
        // TODO add your handling code here:
        this.houseListModel.clear();
        this.houseList.setModel(this.houseListModel);
        ResultSet rs = null;
       if(this.searchTextField.getText().substring(0,1).matches("[0-9]")){
           System.out.println("Number");
           rs = Service.Service.connectionSQL.getSearchQuery(this.searchTextField.getText().toString(), this.villageComboBox.getSelectedItem().toString().substring(0,8));
       }
       else{
           String[] fname = new String[2];
           fname = this.searchTextField.getText().split(" ",2);
           System.out.println(fname.length);
           for(int i=0; i<fname.length; i++)
           {
               System.out.println(fname[i]);
           }
           System.out.println("Not Number");
           rs = Service.Service.connectionSQL.getSearchQuery(fname, this.villageComboBox.getSelectedItem().toString().substring(0,8));
       }
        try {
            if(!rs.next()){
                JOptionPane.showMessageDialog(this,
                "ไม่พบบุคคลที่คุณค้นหา",
                "Warning !!!",
                JOptionPane.WARNING_MESSAGE);
            }else
            {
                rs.beforeFirst();
                while(rs.next()){
                    this.houseListModel.addElement(rs.getString("hno") +" : "+ rs.getString("fname") + " " + rs.getString("lname"));
                }
            }
        } catch (SQLException ex) {
            Logger.getLogger(TransferForm.class.getName()).log(Level.SEVERE, null, ex);
        }
        
        this.houseList.setModel(this.houseListModel);
       
    }//GEN-LAST:event_searchButtonActionPerformed

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        // TODO add your handling code here:
        this.houseSelectListModel.clear();
        this.houseSelectList.setModel(this.houseSelectListModel);
    }//GEN-LAST:event_jButton1ActionPerformed

    private void exerciseRadioButtonItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_exerciseRadioButtonItemStateChanged
        // TODO add your handling code here:  
       this.houseListModel.clear();
       this.houseList.setModel(this.houseListModel);
       
           this.getRiskHouse();   
       
       
    }//GEN-LAST:event_exerciseRadioButtonItemStateChanged

    private void alcoholRadioButtonItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_alcoholRadioButtonItemStateChanged
        // TODO add your handling code here:
        this.houseListModel.clear();
        this.houseList.setModel(this.houseListModel);
       
           this.getRiskHouse(); 
        
        
    }//GEN-LAST:event_alcoholRadioButtonItemStateChanged

    private void smokingRadioButtonItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_smokingRadioButtonItemStateChanged
        // TODO add your handling code here:
        this.houseListModel.clear();
        this.houseList.setModel(this.houseListModel);
        
            this.getRiskHouse();    
        
        
    }//GEN-LAST:event_smokingRadioButtonItemStateChanged

    private void houseListValueChanged(javax.swing.event.ListSelectionEvent evt) {//GEN-FIRST:event_houseListValueChanged
        // TODO add your handling code here:
        if(this.houseList.getSelectedIndex() != -1){
          this.getHouseInformatiom("houseList");  
        }
        
    }//GEN-LAST:event_houseListValueChanged

    private void houseSelectListValueChanged(javax.swing.event.ListSelectionEvent evt) {//GEN-FIRST:event_houseSelectListValueChanged
        // TODO add your handling code here:
        if(this.houseSelectList.getSelectedIndex() != -1){
          this.getHouseInformatiom("houseSelectList");

        }
    }//GEN-LAST:event_houseSelectListValueChanged

    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton3ActionPerformed
        // TODO add your handling code here:
        RunAdb runAdb = new RunAdb("./FFC/adb/adbKillServer.bat");
        runAdb.runAdb();
        System.exit(0);
    }//GEN-LAST:event_jButton3ActionPerformed

    private void jButton4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton4ActionPerformed
        // TODO add your handling code here:
        this.setState(Frame.ICONIFIED);
    }//GEN-LAST:event_jButton4ActionPerformed

    private void exportButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_exportButtonActionPerformed
        // TODO add your handling code here:
       // JFileChooser fileChooser = new JFileChooser();
       // fileChooser.showSaveDialog(this);
       if(Service.Service.connectDeviceStatus){
           ExportToTextfile export = new ExportToTextfile();
           //System.out.println(fileChooser.getSelectedFile().getPath().toString());

           if(this.CommaRadioButton.isSelected()){
               export.setSeparated(',');
           }
           if(this.pipeRadioButton.isSelected()){
               export.setSeparated('|');
           }
           export.setPathFile(this.exportPathTextField.getText());
           Thread exportThread = new Thread(export);
           exportThread.start();
        }else{
           int n = JOptionPane.showConfirmDialog(this, "กรุณาทำการเชื่อมต่ออุปกรณ์","Warning !!!",JOptionPane.WARNING_MESSAGE);
            if(n == JOptionPane.YES_OPTION)
            {
                this.setVisible(false);
                MainForm.openConnectForm();
            }
            else
            {}
        }
      

    }//GEN-LAST:event_exportButtonActionPerformed

    private void importButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_importButtonActionPerformed
        // TODO add your handling code here:
           ImportFileToAndroid importFile = new ImportFileToAndroid();
           importFile.setPath(this.importPathTextField.getText());
           Thread exportThread = new Thread(importFile);
           exportThread.start();
    }//GEN-LAST:event_importButtonActionPerformed

    private void jButton5ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton5ActionPerformed
        // TODO add your handling code here:
        File files = new File("mJHCIS.zip");
       JFileChooser fileChooser = new JFileChooser();
       fileChooser.setSelectedFile(files);
       fileChooser.setMultiSelectionEnabled(true);
       int result = fileChooser.showSaveDialog(this);
       if ( result == JFileChooser.APPROVE_OPTION )
       {
           this.exportPathTextField.setText(fileChooser.getSelectedFile().getPath());
       }
    }//GEN-LAST:event_jButton5ActionPerformed

    private void jButton12ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton12ActionPerformed
        // TODO add your handling code here:
         JFileChooser fileChooser = new JFileChooser();
        int result = fileChooser.showOpenDialog(this);
       if ( result == JFileChooser.APPROVE_OPTION)
       {
            this.importPathTextField.setText(fileChooser.getSelectedFile().getPath());
       }
    }//GEN-LAST:event_jButton12ActionPerformed

    private void jButton6ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton6ActionPerformed
        // TODO add your handling code here:
        boolean show = false;
        this.upToAndroidReportDialog.setVisible(show);
        this.setVisibleProgressComponent(show);
        this.upToAndroidButton.setEnabled(true);
    }//GEN-LAST:event_jButton6ActionPerformed

    private void formMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_formMousePressed
        // TODO add your handling code here:
        start_drag = this.getScreenLocation(evt);
        start_loc = this.getLocation();
    }//GEN-LAST:event_formMousePressed

    private void formMouseDragged(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_formMouseDragged
        // TODO add your handling code here:
        Point current = this.getScreenLocation(evt);
        Point offset = new Point((int) current.getX() - (int) start_drag.getX(),
        (int) current.getY() - (int) start_drag.getY());
        Point new_location = new Point((int) (this.start_loc.getX() + offset.getX()), (int) (this.start_loc.getY() + offset.getY()));
        Service.Service.frameLocation = new_location;
        this.setLocation(new_location);
    }//GEN-LAST:event_formMouseDragged

    private void transferTabbedPaneStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_transferTabbedPaneStateChanged
        // TODO add your handling code here:
       /* int upToJhcisTabIndex = 1;
        if(this.transferTabbedPane.getSelectedIndex() == upToJhcisTabIndex)
        {
            this.decryptTimeLabel.setText("0");
            Transfer.DecryptDatabaseUpToJhcis decrypt = new Transfer.DecryptDatabaseUpToJhcis();
            Thread decryptThread = new Thread(decrypt);
            decrypt.getDecryptThread(decryptThread);
            decryptThread.start();
            //this.decryptDialog.setVisible(true);
        }*/
        this.decryptDatabase();
    }//GEN-LAST:event_transferTabbedPaneStateChanged

    private void decryptDialogWindowClosing(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_decryptDialogWindowClosing
        // TODO add your handling code here:
      /*  RunAdb runAdbKill = new RunAdb("./FFC/adb/adbKillServer.bat");
        runAdbKill.runAdb();
        RunAdb runAdb = new RunAdb("./FFC/adb/adbStartServer.bat");
        Thread run = new Thread(runAdb);
        run.start();
        FileManager fileManager = new FileManager();
        fileManager.deleteFile("./FFC/db_tmp/mJHCIS.sdb");*/
}//GEN-LAST:event_decryptDialogWindowClosing

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        java.awt.EventQueue.invokeLater(new Runnable() {

            public void run() {
                new TransferForm().setVisible(true);
            }
        });
    }
    
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JRadioButton AllRadioButton;
    private javax.swing.JRadioButton CommaRadioButton;
    private javax.swing.JRadioButton TypeRadioButton;
    private javax.swing.JLabel actionLabel;
    private javax.swing.JRadioButton alcoholRadioButton;
    private javax.swing.JButton backButton;
    private javax.swing.ButtonGroup buttonGroup1;
    private javax.swing.ButtonGroup buttonGroup2;
    private javax.swing.JButton cancelButton;
    private javax.swing.JDialog decryptDialog;
    private javax.swing.JProgressBar decryptProgressBar;
    private javax.swing.JLabel decryptTimeLabel;
    private javax.swing.JRadioButton exerciseRadioButton;
    private javax.swing.JButton exportButton;
    private javax.swing.JTextField exportPathTextField;
    private javax.swing.JLabel hintLabel;
    private javax.swing.JLabel houseCountLabel;
    private javax.swing.JLabel houseLabel;
    private javax.swing.JList houseList;
    private javax.swing.JRadioButton houseRadioButton;
    private javax.swing.JList houseSelectList;
    private javax.swing.JLabel houseTextLabel;
    private javax.swing.JLabel houseUpdateLabel;
    private javax.swing.JButton importButton;
    private javax.swing.JTextField importPathTextField;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton11;
    private javax.swing.JButton jButton12;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton3;
    private javax.swing.JButton jButton4;
    private javax.swing.JButton jButton5;
    private javax.swing.JButton jButton6;
    private javax.swing.JButton jButton8;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel24;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel26;
    private javax.swing.JLabel jLabel27;
    private javax.swing.JLabel jLabel28;
    private javax.swing.JLabel jLabel29;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel30;
    private javax.swing.JLabel jLabel31;
    private javax.swing.JLabel jLabel32;
    private javax.swing.JLabel jLabel33;
    private javax.swing.JLabel jLabel34;
    private javax.swing.JLabel jLabel35;
    private javax.swing.JLabel jLabel36;
    private javax.swing.JLabel jLabel37;
    private javax.swing.JLabel jLabel38;
    private javax.swing.JLabel jLabel39;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel40;
    private javax.swing.JLabel jLabel41;
    private javax.swing.JLabel jLabel42;
    private javax.swing.JLabel jLabel43;
    private javax.swing.JLabel jLabel45;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JLayeredPane jLayeredPane1;
    private javax.swing.JLayeredPane jLayeredPane10;
    private javax.swing.JLayeredPane jLayeredPane11;
    private javax.swing.JLayeredPane jLayeredPane12;
    private javax.swing.JLayeredPane jLayeredPane13;
    private javax.swing.JLayeredPane jLayeredPane14;
    private javax.swing.JLayeredPane jLayeredPane15;
    private javax.swing.JLayeredPane jLayeredPane16;
    private javax.swing.JLayeredPane jLayeredPane17;
    private javax.swing.JLayeredPane jLayeredPane3;
    private javax.swing.JLayeredPane jLayeredPane4;
    private javax.swing.JLayeredPane jLayeredPane5;
    private javax.swing.JLayeredPane jLayeredPane6;
    private javax.swing.JLayeredPane jLayeredPane8;
    private javax.swing.JLayeredPane jLayeredPane9;
    private javax.swing.JPanel jPanel15;
    private javax.swing.JPanel jPanel17;
    private javax.swing.JPanel jPanel18;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane5;
    private javax.swing.JScrollPane jScrollPane6;
    private javax.swing.JScrollPane jScrollPane7;
    private javax.swing.JLabel logLabel;
    private javax.swing.JLabel personBehaviorupdateLabel;
    private javax.swing.JLabel personCountLabel;
    private javax.swing.JLabel personLabel;
    private javax.swing.JLabel personTextLabel;
    private javax.swing.JLabel personUpdateLabel;
    private javax.swing.JLabel personbehaviorCountLabel;
    private javax.swing.JLabel personbehaviorTextLabel;
    private javax.swing.JTable pesonTable;
    private javax.swing.JLabel picNumLabel;
    private javax.swing.JLabel pictureCountLabel;
    private javax.swing.JLabel pictureTextLabel;
    private javax.swing.JRadioButton pipeRadioButton;
    private javax.swing.JRadioButton riskRadioButton;
    private javax.swing.JButton searchButton;
    private javax.swing.JTextField searchTextField;
    private javax.swing.JLabel seccondLabel;
    private javax.swing.JButton selectAllButton;
    private javax.swing.JRadioButton smokingRadioButton;
    private javax.swing.JLabel timeTextLabel;
    private javax.swing.JLabel timerLabel;
    private javax.swing.JLayeredPane transferHeaderLayeredPane;
    private javax.swing.JProgressBar transferProgressBar;
    private javax.swing.JTabbedPane transferTabbedPane;
    private javax.swing.JComboBox typeComboBox;
    private javax.swing.JButton upToAndroidButton;
    private javax.swing.JLayeredPane upToAndroidLayeredPane;
    private javax.swing.JDialog upToAndroidReportDialog;
    private javax.swing.JButton upToJhcisButton;
    private javax.swing.JDialog upToJhcisReportDialog;
    private javax.swing.JLabel updateLabel;
    private javax.swing.JComboBox villageComboBox;
    private javax.swing.JLabel villageLabel;
    private static javax.swing.JList villageOnAndroidList;
    private javax.swing.JLabel villageUpToJhcisLabel;
    private javax.swing.JLabel visitCountLabel;
    private javax.swing.JLabel visitDrugUpdateLabel;
    private javax.swing.JLabel visitLabel;
    private javax.swing.JLabel visitTextLabel;
    private javax.swing.JLabel visitUpdateLabel;
    private javax.swing.JLabel visitdiagCountLabel;
    private javax.swing.JLabel visitdiagUpdateLabel;
    private javax.swing.JLabel visitdiagtextLabel;
    private javax.swing.JLabel visitdrugCountLabel;
    private javax.swing.JLabel visitdrugTextLabel;
    // End of variables declaration//GEN-END:variables
   
    private void getRiskHouse()
    {   if(this.exerciseRadioButton.isSelected() || this.alcoholRadioButton.isSelected() || this.smokingRadioButton.isSelected()){
            this.houseListModel.clear();
            ResultSet rs = null;
            boolean exerciseIsSelect = this.exerciseRadioButton.isSelected();
            boolean alcoholIsSelect = this.alcoholRadioButton.isSelected();
            boolean smokingIsSelect = this.smokingRadioButton.isSelected();
            rs = Service.Service.connectionSQL.getRiskQuery(exerciseIsSelect, alcoholIsSelect, smokingIsSelect, this.villageComboBox.getSelectedItem().toString().substring(0,8));
            try {
                while(rs.next())
                {
                    this.houseListModel.addElement(rs.getString("hno"));
                }
             } catch (SQLException ex) {
                JOptionPane.showMessageDialog(this, "ERROR : "+ex.getMessage());
                Logger.getLogger(TransferForm.class.getName()).log(Level.SEVERE, null, ex);
            }
            if(this.houseListModel.isEmpty()){
                this.houseListModel.addElement("   ---------- ไม่พบบ้าน ----------");
            }
            this.houseList.setModel(this.houseListModel);
        }
    }
    
    private void getHouseInformatiom(String whichList){
        String[][] data = new String[20][5];
        String[] columnName = {"ลำดับที่","รหัสบ้าน","คำนำหน้า","ชื่อ","นามสกุล"};
        String villcode = this.villageComboBox.getSelectedItem().toString().substring(0, 8);
        int rowcount = 0; 
        //TableModel tableModel = null;
        String hno = "";
       
            if("houseList".equals(whichList)){
               if(this.houseRadioButton.isSelected()){
                   String[] hNo  = this.houseList.getSelectedValue().toString().split("[ ][:]");
                   hno = hNo[0];
               }else{
                   try{
                   hno = this.houseList.getSelectedValue().toString();
                   }catch(Exception e)
                   { e.printStackTrace();}
            }
            }else{
                if(this.houseRadioButton.isSelected()){
                   String[] hNo  = this.houseSelectList.getSelectedValue().toString().split("[ ][:]");
                   hno = hNo[0];
               }else{
                   hno = this.houseSelectList.getSelectedValue().toString();
            }
            }
            ResultSet rs = Service.Service.connectionSQL.getPersonInformation(hno, villcode);
            try {

                while(rs.next())
                {
                    for(int i=0; i<=rs.getMetaData().getColumnCount(); i++){
                        if(i == 0){
                            data[rowcount][i] = Integer.toString(rowcount+1);

                        }else{
                            data[rowcount][i] = rs.getString(i);
                            System.out.println(rs.getString(i));  
                        }
                    }
                    rowcount++;
                }
            } catch (SQLException ex) {
                Logger.getLogger(TransferForm.class.getName()).log(Level.SEVERE, null, ex);
            }
            DefaultTableModel tableModel = new DefaultTableModel(data,columnName);
            this.pesonTable.setModel(tableModel);
        
    }
    
  
    private void getVillageListUpToAndroid()
    {
        String query = "select villname,villcode from village";
        ResultSet rs  = null;
        rs = Service.Service.connectionSQL.getResultSet(query);
        try
        {
            while(rs.next())
            {
                villageModelUpToAndroid.addElement(rs.getString("villcode")+" : "+rs.getString("villname"));
                this.villageComboBox.addItem(rs.getString("villcode") + " : " + rs.getString("villname"));
            }
        }
        catch(SQLException e)
        {
            e.printStackTrace();
        }
    }
    
    public void getVillageUpToJhcis() throws SQLException
    {
        VillageBookInformationManager villageManager = new VillageBookInformationManager();
        villageManager.setFileURL("./FFC/village_books_information.ffc");
        ArrayList<String> villageCode = new ArrayList<String>();
        villageCode = villageManager.getVillageBook(Service.Service.serialDeviceConnect);
       /* String villList = "";
        for(String villcode : villageCode){
            villList += villcode + ",";
        }*/
        DefaultListModel villageModelUpToJhcis = new DefaultListModel();
        String query = "SELECT villcode,villname FROM village WHERE villcode In ('"+villageCode.get(0).toString() +"')";
        ResultSet rs = null;
        
        ConnectSQLite connect = new ConnectSQLite();
        connect.connectSQLite(".", "/FFC/Db_tmp/mJHCIS.db");
        
        rs = connect.getResultSet(query);
        try
        {
            while(rs.next())
            {
                System.out.println(rs.getString("villcode") + " : " + rs.getString("villname"));
                villageModelUpToJhcis.addElement(rs.getString("villcode") + " : " + rs.getString("villname"));
                
                //System.out.println(villageModelUpToJhcis.getElementAt(0));
            }
            villageOnAndroidList.setModel(villageModelUpToJhcis);
            //this.exporVillagetList.setModel(villageModelUpToJhcis);
            if(connect.closeConnection()){
                System.out.println("Connection Closeeeeeeeeeeeeee");
            }else{
                System.out.println("What's the hellllllllllllllll");
            }
        }
        
        catch(SQLException e)
        {
            connect.closeConnection();
            e.printStackTrace();
        }
               
    }
    
    
     public void setVisibleCancelButton(boolean set)
     {
         if(set)
         {
             this.cancelButton.setVisible(set);
         }
         else
         {
             this.cancelButton.setVisible(set);
         }
         
     }
     
     public void setValueTransferProgressBar(int value)
     {
         this.transferProgressBar.setValue(value);
     }
     
     public void setTextHouseLabel(String text)
     {
         this.houseLabel.setText(text);
     }
    
     public void setTextvillagelabel(String text)
     {
         this.villageLabel.setText(text);
     }
     
     public void setTextVisitLabel(String text)
     {
         this.visitLabel.setText(text);
     }
     
     public void setTextPersonLabel(String text)
     {
         this.personLabel.setText(text);
     }
     
     public void setVisibleReportDialog(boolean set)
     {
         if(set)
            this.upToAndroidReportDialog.setVisible(set);
         else
            this.upToAndroidReportDialog.setVisible(set);
     }
         
     public void setTextPersonUpdateLabel(String text)
     {
         this.personUpdateLabel.setText(text);
     }
     
     public void setTextPersonBehaviorUpdateLabel(String text)
     {
         this.personBehaviorupdateLabel.setText(text);
     }
     
     public void setTextVisitUpdateLabel(String text)
     {
         this.visitUpdateLabel.setText(text);
     }
     
     public void setTextVisitDiagUpdateLabel(String text)
     {
         this.visitdiagUpdateLabel.setText(text);
     }
     
     public void setTextVisitdrugUpdateLabel(String text)
     {
         this.visitDrugUpdateLabel.setText(text);
     }

     public void setTextHouseUpdateLabel(String text){
         this.houseUpdateLabel.setText(text);
     }

     public void setTextPicNumLabel(String text){
         this.picNumLabel.setText(text);
     }
     
     public void controlJhcisToAndroidThread()
     {
         this.jhcisToAndroidThread.stop();
     }
     
     public void setVisibleUpTOJhcisReportDialog(boolean set)
     {
         this.upToJhcisReportDialog.setVisible(set);
     }
     
     public void setTextLogLabel(String text)
     {
         if(text.length() > 35){
            this.logLabel.setText(text.substring(0, 35) + "...");
         }else{
            this.logLabel.setText(text + "...");              
         }
     }

     public void setDefaultLogLabel()
     {
        this.logLabel.setText("");
     }
     
     public void setTextvillageUpToJhcis(String text)
     {
         this.villageUpToJhcisLabel.setText(text);
     }
     
     public Thread getUpToAndroidThread()
     {
         return this.jhcisToAndroidThread;
     }
     
     public Thread getUpToJhcisThread()
     {
         return this.andoirdToJhcisThread;
     }
     
     public void setTexttimerLabel(String text)
     {
         this.timerLabel.setText(text);
     }
     
     public int getSelectIndexTypeCombobox()
     {
         return this.typeComboBox.getSelectedIndex();
     }

     public void setEnableUpToJhcisButton(boolean set){
         this.upToJhcisButton.setEnabled(set);
     }
     private void setfont(){

         SetFont setFont = new SetFont();
         setFont.changeFont("THSarabun Bold.ttf",18f,this.villageComboBox,this.TypeRadioButton,this.AllRadioButton,
                           this.alcoholRadioButton,this.exerciseRadioButton,this.riskRadioButton,
                           this.houseRadioButton,this.typeComboBox,this.smokingRadioButton,
                           this.houseList,this.searchButton,this.pesonTable.getTableHeader(),
                           this.houseSelectList,this.jLabel6,this.jLabel8,this.jLabel9,
                           this.jLabel10,this.jLabel11,this.jLabel12,this.jLabel13,this.jLabel2,
                           this.jLabel3,this.jLabel4,this.jLabel5,this.jLabel27,
                           this.jLabel28,this.jLabel29,this.jLabel30,this.jLabel31,
                           this.jLabel14,this.jLabel15,villageOnAndroidList,this.villageUpToJhcisLabel
                           ,this.jLabel16,this.jLabel17,this.jLabel18,this.jLabel19,this.jLabel20,this.jLabel24
                           ,this.jLabel36,this.jLabel26,this.jLabel37,this.jButton2,this.villageLabel,this.jButton6
                           ,this.jLabel38,this.jLabel39
                           
                           //,
                           /*this.villageLabel,this.personLabel,this.visitLabel,this.houseLabel*/);
        setFont.changeFont("THSarabun Bold.ttf",19f,this.houseTextLabel,this.personTextLabel,this.personbehaviorTextLabel,this.visitTextLabel
                           ,this.visitdiagtextLabel,this.visitdrugTextLabel,this.jLabel2,this.jLabel3,this.jLabel4,this.jLabel5
                           ,this.jLabel21,this.jLabel22,this.pictureTextLabel,this.jLabel45,this.jLabel42);
        setFont.changeFont("THSarabun Bold.ttf",16f, this.hintLabel,this.actionLabel,this.logLabel);
        setFont.changeFont("THSarabun.ttf", 17f, this.pesonTable);
        setFont.changeFont("THSarabun Bold.ttf", 22f, this.jLabel7,this.updateLabel,this.jLabel32,this.jLabel23,this.jLabel43);
        
     }
     
     public void setUpdateCount(){
         ConvertSQLiteToSQL convert = new ConvertSQLiteToSQL();
         ArrayList<String> listUpdate = new ArrayList<String>();
         listUpdate = convert.checkUpdate();

         AdbCommand adbCommand = new AdbCommand();
        try {
            adbCommand.createDirectoryOnAndroid("/sdcard/FFC/photos");
        } catch (IOException ex) {
            Logger.getLogger(TransferForm.class.getName()).log(Level.SEVERE, null, ex);
            JOptionPane.showMessageDialog(this, "Update Report Error : "+ ex.getMessage());
        }
         String personUpdateCount = listUpdate.get(0);
         String personbehaviorUpdateCount = listUpdate.get(1);
         String houseUpdateCount = listUpdate.get(2);
         String visitUpdateCount = listUpdate.get(3);
         String visitdiagUpdateCount = listUpdate.get(4);
         String visitdrugUpdateCount = listUpdate.get(5);
         String picUpdateCount = String.valueOf(adbCommand.getFileListAndroid("/sdcard/FFC/photos").size());
         this.personCountLabel.setText(personUpdateCount);
         this.personbehaviorCountLabel.setText(personbehaviorUpdateCount);
         this.houseCountLabel.setText(houseUpdateCount);
         this.visitCountLabel.setText(visitUpdateCount);
         this.visitdiagCountLabel.setText(visitdiagUpdateCount);
         this.visitdrugCountLabel.setText(visitdrugUpdateCount);
         this.pictureCountLabel.setText(picUpdateCount);
     }

     public void setVisibleProgressComponent(boolean set){
         this.transferProgressBar.setVisible(set);
         this.cancelButton.setVisible(set);
         this.logLabel.setVisible(set);
         this.actionLabel.setVisible(set);
         this.timerLabel.setVisible(set);
         this.timeTextLabel.setVisible(set);
         this.seccondLabel.setVisible(set);
         this.transferProgressBar.setValue(0);
         this.timerLabel.setText("0");
         this.logLabel.setText("");
     }

     public void setEnableComponent(boolean set){
         //this.backButton.setEnabled(set);
         
     }

     Point getScreenLocation(MouseEvent e) {
    Point cursor = e.getPoint();
    Point target_location = this.getLocationOnScreen();
    return new Point((int) (target_location.getX() + cursor.getX()),
        (int) (target_location.getY() + cursor.getY()));
    }

    public void clearVillageOnAndroidList(){
        DefaultListModel listModel = new DefaultListModel();
        this.villageOnAndroidList.setModel(listModel);
    }

    public void resetValueLabelUpdate(){
        this.personCountLabel.setText("0");
        this.personbehaviorCountLabel.setText("0");
        this.visitCountLabel.setText("0");
        this.visitdiagCountLabel.setText("0");
        this.visitdrugCountLabel.setText("0");
        this.houseCountLabel.setText("0");
        this.pictureCountLabel.setText("0");
    }

    private void setVisibleExportComponent(){
        //this.exporVillagetList.setVisible(false);
        this.exportButton.setVisible(false);
        this.jLabel33.setVisible(false);
        this.jLabel34.setVisible(false);
        this.exportPathTextField.setVisible(false);
        this.jLayeredPane12.setVisible(false);
        this.jButton5.setVisible(false);
        this.CommaRadioButton.setVisible(false);
        this.pipeRadioButton.setVisible(false);
       
    }

    private void setVisibleImportComponent(){
        this.jLabel35.setVisible(false);
        this.importPathTextField.setVisible(false);
        this.jButton12.setVisible(false);
        this.jLayeredPane13.setVisible(false);
        this.importButton.setVisible(false);
    }

    public void setVisibleDecryptDialog(boolean set){
        this.decryptDialog.setVisible(set);
    }


    public void setTextDecryptTimeLabel(String time){
        this.decryptTimeLabel.setText(time);
    }

    public void setEnableUpToAndroidButton(boolean set){
        this.upToAndroidButton.setEnabled(set);
    }

    public void decryptDatabase(){
        int upToJhcisTabIndex = 1;
        if(this.transferTabbedPane.getSelectedIndex() == upToJhcisTabIndex)
        {
            this.decryptTimeLabel.setText("0");
            Transfer.DecryptDatabaseUpToJhcis decrypt = new Transfer.DecryptDatabaseUpToJhcis();
            Thread decryptThread = new Thread(decrypt);
            decrypt.getDecryptThread(decryptThread);
            decryptThread.start();
            //this.decryptDialog.setVisible(true);
        }
    }
    

     
}


